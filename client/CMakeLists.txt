# based on client.pro

# FIXME moc
#
# MOC is Qt's Meta Object Compiler. It transforms certain Qt-specific macros into the C++ code and meta information necessary for Qt's signal and slots, RTTI, and the dynamic property system.
#
# [  1%] Automatic MOC and UIC for target windscribe-client
# AutoMoc subprocess error
# ------------------------
# The moc process failed to compile
#   "SRC:/gui/commonwidgets/customtexteditwidget.h"
# into
#   "SRC:/windscribe-client_autogen/L6SWMEVJYU/moc_customtexteditwidget.cpp"
#
# gui/commonwidgets/customtexteditwidget.h:11:1: error: Undefined interface
#   Q_INTERFACES(IScrollableWidget)

set(target_name windscribe-client)

# https://stackoverflow.com/questions/46862737/cmake-qt-uic-failed
# Tell CMake to run moc when needed.
set(CMAKE_AUTOMOC ON)

# Tell CMake to run uic when needed.
set(CMAKE_AUTOUIC ON)

# Tell CMake to run rcc when needed
set(CMAKE_AUTORCC ON)

# Moc generated files are located in the current dir so we need to tell CMake to look for them.
set(CMAKE_INCLUDE_CURRENT_DIR ON)

# TODO boost version?
#find_package(Boost 1.36.0 REQUIRED COMPONENTS serialization filesystem)
find_package(Boost REQUIRED COMPONENTS serialization filesystem)
include_directories(${Boost_INCLUDE_DIRS}) 

find_package(OpenSSL REQUIRED)
include_directories(${OpenSSL_INCLUDE_DIRS}) 

find_package(protobuf REQUIRED)

# fix: moc error: Undefined interface
include_directories(gui)
# fix: error: engine/types/protocoltype.h: No such file
include_directories(engine)
include_directories(../common)
# fix: error: ipc/proto/apiinfo.pb.h: No such file
# note: generated *.pb.* files are in the binary tree, not in the source tree
include_directories(${CMAKE_CURRENT_BINARY_DIR}/../common)

# https://doc.qt.io/qt-6/cmake-get-started.html
# TODO remove Gui?
find_package(Qt6 REQUIRED COMPONENTS Core Gui Widgets Network Svg Core5Compat)
qt_standard_project_setup()

find_package(CURL REQUIRED)
include_directories(${CURL_INCLUDE_DIRS})

# https://github.com/c-ares/c-ares
find_package(c-ares REQUIRED)
include_directories(${c_ares_INCLUDE_DIRS})

# key_pub.txt is generated by build_all.py from key.pub
option(use_signature_check "Sign this build with key_pub.txt" OFF)

# gui/commonwidgets/customtexteditwidget.h:11:1: error: Undefined interface
#   Q_INTERFACES(IScrollableWidget)
#file(GLOB_RECURSE sources *.cpp *.h)
#message(STATUS "sources=${sources}")

set(sources
  main.cpp
  # common.pri
  ../common/utils/executable_signature/executablesignature_linux.cpp
  ../common/utils/linuxutils.cpp

  # FIXME: generate files
  # https://github.com/protocolbuffers/protobuf/blob/main/docs/cmake_protobuf_generate.md
  # ../common/ipc/proto/cli.proto
  # ../common/ipc/proto/clientcommands.proto
  # ../common/ipc/proto/types.proto
  # ../common/ipc/proto/servercommands.proto
  # ../common/ipc/proto/apiinfo.proto

  #../common/ipc/proto/cli.pb.cc # no such file
  #${CMAKE_CURRENT_BINARY_DIR}/generated/cli.pb.cc # no such file

  #../common/ipc/proto/types.pb.cc # no such file
  #${CMAKE_CURRENT_BINARY_DIR}/generated/types.pb.cc # no such file

  #../common/ipc/proto/apiinfo.pb.cc # no such file
  #${CMAKE_CURRENT_BINARY_DIR}/generated/apiinfo.pb.cc # no such file

  ../common/types/locationid.cpp
  ../common/types/pingtime.cpp
  ../common/utils/clean_sensitive_info.cpp
  ../common/utils/extraconfig.cpp
  ../common/utils/languagesutil.cpp
  ../common/utils/logger.cpp
  ../common/utils/mergelog.cpp
  ../common/utils/utils.cpp
  ../common/utils/widgetutils.cpp
  ../common/utils/executable_signature/executable_signature.cpp
  ../common/utils/ipvalidation.cpp
  ../common/version/appversion.cpp
  ../common/utils/hardcodedsettings.cpp
  ../common/utils/simplecrypt.cpp
  ../common/ipc/commandfactory.cpp
  ../common/ipc/connection.cpp
  ../common/ipc/server.cpp
  #../common/ipc/proto/clientcommands.pb.cc # Cannot find source file
  #../common/ipc/proto/servercommands.pb.cc # Cannot find source file
  # gui/gui.pri: linux
  gui/multipleaccountdetection/multipleaccountdetection_linux.cpp
  gui/launchonstartup/launchonstartup_linux.cpp
  gui/utils/interfaceutils_linux.cpp
  gui/utils/authchecker_linux.cpp
  # gui/gui.pri: all platforms
  gui/backend/backend.cpp
  gui/backend/connectstatehelper.cpp
  gui/backend/firewallstatehelper.cpp
  gui/backend/notificationscontroller.cpp
  gui/backend/locationsmodel/alllocationsmodel.cpp
  gui/backend/locationsmodel/basiccitiesmodel.cpp
  gui/backend/locationsmodel/basiclocationsmodel.cpp
  gui/backend/locationsmodel/configuredcitiesmodel.cpp
  gui/backend/locationsmodel/favoritecitiesmodel.cpp
  gui/backend/locationsmodel/favoritelocationsstorage.cpp
  gui/backend/locationsmodel/locationsmodel.cpp
  gui/backend/locationsmodel/sortlocationsalgorithms.cpp
  gui/backend/locationsmodel/staticipscitiesmodel.cpp
  gui/backend/preferences/accountinfo.cpp
  gui/backend/preferences/detectlanrange.cpp
  gui/backend/preferences/guisettingsfromver1.cpp
  gui/backend/preferences/preferences.cpp
  gui/backend/preferences/preferenceshelper.cpp
  gui/backend/types/upgrademodetype.cpp
  gui/backend/types/dnswhileconnectedinfo.cpp
  gui/backend/persistentstate.cpp
  gui/application/windowsnativeeventfilter.cpp
  gui/application/windscribeapplication.cpp
  gui/commongraphics/imageitem.cpp
  gui/commongraphics/scalablegraphicsobject.cpp
  gui/commonwidgets/combomenuwidget.cpp
  gui/commonwidgets/combomenuwidgetbutton.cpp
  gui/commonwidgets/iconwidget.cpp
  gui/commonwidgets/lightwidget.cpp
  gui/connectwindow/backgroundimage/backgroundimage.cpp
  gui/connectwindow/backgroundimage/imagechanger.cpp
  gui/connectwindow/backgroundimage/simpleimagechanger.cpp
  gui/connectwindow/connectstateprotocolport/badgepixmap.cpp
  gui/connectwindow/connectstateprotocolport/connectionbadgedots.cpp
  gui/connectwindow/connectstateprotocolport/connectstateprotocolport.cpp
  gui/connectwindow/ipaddressitem/ipaddressitem.cpp
  gui/connectwindow/ipaddressitem/numberitem.cpp
  gui/connectwindow/ipaddressitem/numberspixmap.cpp
  gui/connectwindow/ipaddressitem/octetitem.cpp
  gui/connectwindow/middleitem.cpp
  gui/connectwindow/serverratingindicator.cpp
  gui/dialogs/advancedparametersdialog.cpp
  gui/dialogs/dialoggetusernamepassword.cpp
  gui/dialogs/dialogmessagecpuusage.cpp
  gui/graphicresources/fontdescr.cpp
  gui/graphicresources/iconmanager.cpp
  gui/graphicresources/independentpixmap.cpp
  gui/launchonstartup/launchonstartup.cpp
  gui/locationswindow/widgetlocations/footertopstrip.cpp
  gui/locationswindow/widgetlocations/itemwidgetcity.cpp
  gui/locationswindow/widgetlocations/itemwidgetheader.cpp
  gui/locationswindow/widgetlocations/itemwidgetregion.cpp
  gui/locationswindow/widgetlocations/scrollbar.cpp
  gui/locationswindow/widgetlocations/widgetcitieslist.cpp
  gui/locationswindow/widgetlocations/widgetlocations.cpp
  gui/locationswindow/widgetlocations/widgetlocationslist.cpp
  gui/mainwindowstate.cpp
  gui/preferenceswindow/connectionwindow/packetsizeeditboxitem.cpp
  gui/overlaysconnectwindow//upgradewindowitem.cpp
  gui/overlaysconnectwindow/updatewindowitem.cpp
  gui/overlaysconnectwindow/generalmessagetwobuttonwindowitem.cpp
  gui/overlaysconnectwindow/generalmessagewindowitem.cpp
  gui/overlaysconnectwindow/updateappitem.cpp
  gui/preferenceswindow/debugwindow/apiresolutionitem.cpp
  gui/preferenceswindow/generalwindow/backgroundsettingsitem.cpp
  gui/preferenceswindow/generalwindow/selectimageitem.cpp
  gui/preferenceswindow/generalwindow/versioninfoitem.cpp
  gui/preferenceswindow/networkwhitelistwindow/currentnetworkitem.cpp
  gui/preferenceswindow/networkwhitelistwindow/networklistitem.cpp
  gui/preferenceswindow/networkwhitelistwindow/networkwhitelistshared.cpp
  gui/preferenceswindow/splittunnelingwindow/appincludeditem.cpp
  gui/preferenceswindow/splittunnelingwindow/appsearchitem.cpp
  gui/preferenceswindow/splittunnelingwindow/iporhostnameitem.cpp
  gui/preferenceswindow/splittunnelingwindow/newiporhostnameitem.cpp
  gui/preferenceswindow/splittunnelingwindow/searchlineedititem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappsitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappssearchitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappssearchwindowitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappswindowitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingiphostnamewindowitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingipsandhostnamesitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingswitchitem.cpp
  gui/showingdialogstate.cpp
  gui/tooltips/itooltip.cpp
  gui/tooltips/serverratingstooltip.cpp
  gui/tooltips/tooltipbasic.cpp
  gui/tooltips/tooltipcontroller.cpp
  gui/tooltips/tooltipdescriptive.cpp
  gui/tooltips/tooltiputil.cpp
  gui/utils/imagewithshadow.cpp
  gui/utils/protoenumtostring.cpp
  gui/commonwidgets/custommenuwidget.cpp
  #gui/commonwidgets/customtexteditwidget.cpp # FIXME
  gui/commonwidgets/scrollareawidget.cpp
  gui/commonwidgets/verticalscrollbarwidget.cpp
  gui/loginwindow/initwindowitem.cpp
  gui/log/logviewerwindow.cpp
  gui/preferenceswindow/debugwindow/advancedparameterswindowitem.cpp
  gui/utils/textshadow.cpp
  gui/utils/writeaccessrightschecker.cpp
  gui/blockconnect.cpp
  gui/dpiscaleawarewidget.cpp
  gui/dpiscalemanager.cpp
  gui/freetrafficnotificationcontroller.cpp
  gui/guitest.cpp
  gui/systemtray/locationstraymenubutton.cpp
  gui/systemtray/locationstraymenuitemdelegate.cpp
  gui/systemtray/locationstraymenuwidget.cpp
  gui/systemtray/locationstraymenunative.cpp
  gui/systemtray/locationstraymenuscalemanager.cpp
  gui/loginattemptscontroller.cpp
  gui/mainwindow.cpp
  gui/loginwindow/loginwindowitem.cpp
  gui/loginwindow/welcomewindowitem.cpp
  gui/loginwindow/credentialswindowitem.cpp
  gui/loginwindow/logginginwindowitem.cpp
  gui/loginwindow/loginyesnobutton.cpp
  gui/loginwindow/usernamepasswordentry.cpp
  gui/loginwindow/loginbutton.cpp
  gui/loginwindow/iconhoverengagebutton.cpp
  gui/loginwindow/firewallturnoffbutton.cpp
  gui/graphicresources/fontmanager.cpp
  gui/graphicresources/imageresourcessvg.cpp
  gui/graphicresources/imageresourcesjpg.cpp
  gui/emergencyconnectwindow/emergencyconnectwindowitem.cpp
  gui/emergencyconnectwindow/textlinkbutton.cpp
  gui/commongraphics/commongraphics.cpp
  gui/connectwindow/connectwindowitem.cpp
  gui/locationswindow/locationswindow.cpp
  gui/locationswindow/widgetlocations/backgroundpixmapanimation.cpp
  gui/locationswindow/widgetlocations/cursorupdatehelper.cpp
  gui/locationswindow/widgetlocations/itemtimems.cpp
  gui/locationswindow/widgetlocations/locationstab.cpp
  gui/locationswindow/widgetlocations/widgetcities.cpp
  gui/locationswindow/widgetlocations/widgetlocationssizes.cpp
  gui/connectwindow/background.cpp
  gui/connectwindow/connectbutton.cpp
  gui/connectwindow/locationsbutton.cpp
  gui/connectwindow/wifiname.cpp
  gui/connectwindow/firewallbutton.cpp
  gui/utils/makecustomshadow.cpp
  gui/utils/shadowmanager.cpp
  gui/preferenceswindow/preferenceswindowitem.cpp
  gui/preferenceswindow/bottomresizeitem.cpp
  gui/preferenceswindow/generalwindow/generalwindowitem.cpp
  gui/preferenceswindow/scrollareaitem.cpp
  gui/preferenceswindow/accountwindow/accountwindowitem.cpp
  gui/preferenceswindow/connectionwindow/connectionwindowitem.cpp
  gui/preferenceswindow/debugwindow//debugwindowitem.cpp
  gui/preferenceswindow/sharewindow/sharewindowitem.cpp
  gui/preferenceswindow/preferencestab/preferencestabcontrolitem.cpp
  gui/commongraphics/checkboxbutton.cpp
  gui/preferenceswindow/checkboxitem.cpp
  gui/preferenceswindow/dividerline.cpp
  gui/preferenceswindow/escapebutton.cpp
  gui/preferenceswindow/comboboxitem.cpp
  gui/newsfeedwindow/newsfeedwindowitem.cpp
  gui/preferenceswindow/accountwindow/usernameitem.cpp
  gui/preferenceswindow/accountwindow/emailitem.cpp
  gui/preferenceswindow/accountwindow/planitem.cpp
  gui/preferenceswindow/accountwindow/expiredateitem.cpp
  gui/preferenceswindow/connectionwindow/subpageitem.cpp
  gui/preferenceswindow/basepage.cpp
  gui/preferenceswindow/baseitem.cpp
  gui/preferenceswindow/sharewindow/securehotspotitem.cpp
  gui/preferenceswindow/sharewindow/proxygatewayitem.cpp
  gui/preferenceswindow/editboxitem.cpp
  gui/preferenceswindow/sharewindow/proxyipaddressitem.cpp
  gui/preferenceswindow/debugwindow/viewlogitem.cpp
  gui/preferenceswindow/debugwindow/advancedparametersitem.cpp
  gui/preferenceswindow/connectionwindow/firewallmodeitem.cpp
  gui/preferenceswindow/connectionwindow/automanualswitchitem.cpp
  gui/preferenceswindow/connectionwindow/connectionmodeitem.cpp
  gui/preferenceswindow/connectionwindow/packetsizeitem.cpp
  gui/preferenceswindow/connectionwindow/macspoofingitem.cpp
  gui/preferenceswindow/connectionwindow/macaddressitem.cpp
  gui/preferenceswindow/connectionwindow/autorotatemacitem.cpp
  gui/commongraphics/verticalscrollbar.cpp
  gui/preferenceswindow/networkwhitelistwindow/networkwhitelistwindowitem.cpp
  gui/preferenceswindow/splittunnelingwindow/splittunnelingwindowitem.cpp
  gui/preferenceswindow/proxysettingswindow/proxysettingswindowitem.cpp
  gui/commongraphics/clickablegraphicsobject.cpp
  gui/commongraphics/textbutton.cpp
  gui/commongraphics/bubblebuttonbright.cpp
  gui/externalconfig/externalconfigwindowitem.cpp
  gui/twofactorauth/twofactorauthwindowitem.cpp
  gui/twofactorauth/twofactorauthokbutton.cpp
  gui/bottominfowidget/sharingfeatures/sharingfeatureswindowitem.cpp
  gui/bottominfowidget/sharingfeatures/sharingfeature.cpp
  gui/bottominfowidget/upgradewidget/upgradewidgetitem.cpp
  gui/bottominfowidget/bottominfoitem.cpp
  gui/commongraphics/bubblebuttondark.cpp
  gui/loginwindow/blockableqlineedit.cpp
  gui/commongraphics/texticonbutton.cpp
  gui/commongraphics/verticaldividerline.cpp
  gui/commonwidgets/custommenulineedit.cpp
  gui/commonwidgets/iconbuttonwidget.cpp
  gui/commonwidgets/textbuttonwidget.cpp
  gui/preferenceswindow/proxysettingswindow/proxysettingsitem.cpp
  gui/newsfeedwindow/scrollablemessage.cpp
  gui/commongraphics/iconbutton.cpp
  gui/preferenceswindow/textitem.cpp
  gui/connectwindow/logonotificationsbutton.cpp
  gui/preferenceswindow/connectionwindow/dnswhileconnecteditem.cpp
  gui/languagecontroller.cpp
  gui/locationswindow/widgetlocations/staticipdeviceinfo.cpp
  gui/locationswindow/widgetlocations/configfooterinfo.cpp
  gui/mainwindowcontroller.cpp
  gui/multipleaccountdetection/multipleaccountdetectionfactory.cpp
  gui/preferenceswindow/openurlitem.cpp
  gui/application/singleappinstance.cpp
  gui/localipcserver/localipcserver.cpp
  # gui/gui.pri: RESOURCES
  gui/svg.qrc
  gui/jpg.qrc
  gui/windscribe.qrc
  # gui/gui.pri: TRANSLATIONS
  # Cannot find source file
  #gui/languages/ru.ts
  #gui/languages/es.ts
  #gui/languages/fr.ts
  #gui/languages/ja.ts
  #gui/languages/ar.ts
  #gui/languages/hu.ts
  #gui/languages/it.ts
  #gui/languages/ko.ts
  #gui/languages/nl.ts
  #gui/languages/zh.ts
  #gui/languages/de.ts
  #gui/languages/pl.ts
  #gui/languages/tr.ts
  #gui/languages/cs.ts
  #gui/languages/da.ts
  #gui/languages/el.ts
  #gui/languages/pt.ts
  #gui/languages/sk.ts
  #gui/languages/th.ts
  #gui/languages/vi.ts
  #gui/languages/en.ts
  #gui/languages/en_nsfw.ts
  #gui/languages/sv.ts
  #gui/languages/id.ts
  #gui/languages/hi.ts
  #gui/languages/hr.ts
  # gui/gui.pri: FORMS
  gui/dialogs/dialoggetusernamepassword.ui
  gui/dialogs/dialogmessagecpuusage.ui
  # engine/engine.pri
  engine/utils/dnsscripts_linux.cpp
  engine/engine/ping/pinghost_icmp_mac.cpp
  engine/engine/dnsresolver/dnsutils_linux.cpp
  engine/engine/helper/helper_posix.cpp
  engine/engine/helper/helper_linux.cpp
  engine/engine/firewall/firewallcontroller_linux.cpp
  engine/engine/connectionmanager/ikev2connection_linux.cpp
  engine/engine/networkdetectionmanager/networkdetectionmanager_linux.cpp
  engine/engine/macaddresscontroller/macaddresscontroller_linux.cpp
  engine/engine/connectionmanager/wireguardconnection_posix.cpp
  engine/engine/apiinfo/apiinfo.cpp
  engine/engine/apiinfo/checkupdate.cpp
  engine/engine/apiinfo/sessionstatus.cpp
  engine/engine/apiinfo/location.cpp
  engine/engine/apiinfo/group.cpp
  engine/engine/apiinfo/node.cpp
  engine/engine/apiinfo/notification.cpp
  engine/engine/apiinfo/portmap.cpp
  engine/engine/apiinfo/staticips.cpp
  engine/engine/apiinfo/servercredentials.cpp
  engine/engine/autoupdater/downloadhelper.cpp
  engine/engine/ping/keepalivemanager.cpp
  engine/engine/locationsmodel/enginelocationsmodel.cpp
  engine/engine/locationsmodel/apilocationsmodel.cpp
  engine/engine/locationsmodel/customconfiglocationsmodel.cpp
  engine/engine/locationsmodel/locationitem.cpp
  engine/engine/locationsmodel/pingipscontroller.cpp
  engine/engine/locationsmodel/pingstorage.cpp
  engine/engine/locationsmodel/bestlocation.cpp
  engine/engine/locationsmodel/baselocationinfo.cpp
  engine/engine/locationsmodel/mutablelocationinfo.cpp
  engine/engine/locationsmodel/customconfiglocationinfo.cpp
  engine/engine/locationsmodel/pinglog.cpp
  engine/engine/locationsmodel/failedpinglogcontroller.cpp
  engine/engine/locationsmodel/nodeselectionalgorithm.cpp
  engine/engine/packetsizecontroller.cpp
  engine/engine/enginesettings.cpp
  engine/engine/tempscripts_mac.cpp
  engine/engine/logincontroller/logincontroller.cpp
  engine/engine/logincontroller/getallconfigscontroller.cpp
  engine/engine/proxy/proxysettings.cpp
  engine/engine/types/connectionsettings.cpp
  engine/engine/getmyipcontroller.cpp
  engine/engine/firewall/uniqueiplist.cpp
  engine/engine/firewall/firewallexceptions.cpp
  engine/engine/firewall/firewallcontroller.cpp
  engine/engine/proxy/proxyservercontroller.cpp
  engine/engine/types/dnsresolutionsettings.cpp
  engine/engine/connectionmanager/makeovpnfile.cpp
  engine/engine/connectionmanager/adaptergatewayinfo.cpp
  engine/engine/connectionmanager/stunnelmanager.cpp
  engine/engine/connectionmanager/testvpntunnel.cpp
  engine/engine/connectionmanager/openvpnconnection.cpp
  engine/engine/connectionmanager/connsettingspolicy/autoconnsettingspolicy.cpp
  engine/engine/connectionmanager/connsettingspolicy/manualconnsettingspolicy.cpp
  engine/engine/connectionmanager/connsettingspolicy/customconfigconnsettingspolicy.cpp
  engine/engine/connectionmanager/connectionmanager.cpp
  engine/engine/connectionmanager/availableport.cpp
  engine/engine/macaddresscontroller/imacaddresscontroller.cpp
  engine/engine/logincontroller/getapiaccessips.cpp
  engine/engine/helper/initializehelper.cpp
  engine/engine/refetchservercredentialshelper.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyserver.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyconnectionmanager.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyconnection.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyrequestparser.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyrequest.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxywebanswer.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxywebanswerparser.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxyserver.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxyconnectionmanager.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxyconnection.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxyreadexactly.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxyidentreqparser.cpp
  engine/engine/vpnshare/socketutils/socketwriteall.cpp
  engine/engine/vpnshare/socksproxyserver/socksproxycommandparser.cpp
  engine/engine/vpnshare/vpnsharecontroller.cpp
  engine/engine/vpnshare/connecteduserscounter.cpp
  engine/engine/vpnshare/httpproxyserver/httpproxyreply.cpp
  engine/engine/connectstatecontroller/connectstatecontroller.cpp
  engine/engine/openvpnversioncontroller.cpp
  engine/engine/types/types.cpp
  engine/engine/serverapi/curlnetworkmanager.cpp
  engine/engine/serverapi/curlrequest.cpp
  engine/engine/serverapi/dnscache.cpp
  engine/engine/serverapi/serverapi.cpp
  engine/engine/engine.cpp
  engine/engine/crossplatformobjectfactory.cpp
  engine/engine/types/loginsettings.cpp
  engine/engine/emergencycontroller/emergencycontroller.cpp
  engine/engine/dnsresolver/areslibraryinit.cpp
  engine/engine/dnsresolver/dnsrequest.cpp
  engine/engine/dnsresolver/dnsserversconfiguration.cpp
  engine/engine/dnsresolver/dnsresolver.cpp
  engine/engine/types/protocoltype.cpp
  engine/engine/tests/sessionandlocations_test.cpp
  engine/engine/sessionstatustimer.cpp
  engine/engine/connectionmanager/wstunnelmanager.cpp
  engine/engine/customconfigs/customconfigs.cpp
  engine/engine/customconfigs/customconfigtype.cpp
  engine/engine/customconfigs/ovpncustomconfig.cpp
  engine/engine/customconfigs/wireguardcustomconfig.cpp
  engine/engine/connectionmanager/makeovpnfilefromcustom.cpp
  engine/engine/customconfigs/parseovpnconfigline.cpp
  engine/engine/customconfigs/customovpnauthcredentialsstorage.cpp
  engine/engine/ping/pinghost_tcp.cpp
  engine/engine/ping/pinghost.cpp
  engine/engine/customconfigs/customconfigsdirwatcher.cpp
  engine/engine/wireguardconfig/wireguardconfig.cpp
  engine/engine/wireguardconfig/getwireguardconfig.cpp
  engine/engine/wireguardconfig/getwireguardconfiginloop.cpp
  engine/engine/getdeviceid.cpp
  engine/engineserver.cpp
  engine/clientconnectiondescr.cpp
  engine/engine/connectionmanager/finishactiveconnections.cpp
  engine/engine/networkaccessmanager/certmanager.cpp
  engine/engine/networkaccessmanager/curlinitcontroller.cpp
  engine/engine/networkaccessmanager/curlnetworkmanager2.cpp
  engine/engine/networkaccessmanager/curlreply.cpp
  engine/engine/networkaccessmanager/networkrequest.cpp
  engine/engine/networkaccessmanager/dnscache2.cpp
  engine/engine/networkaccessmanager/networkaccessmanager.cpp
)

set(headers
  # common.pri
  ../common/utils/executable_signature/executablesignature_linux.h
  ../common/utils/linuxutils.h
  ../common/names.h
  #../common/ipc/proto/types.pb.h # Cannot find source file
  #../common/ipc/proto/apiinfo.pb.h # Cannot find source file
  #../common/ipc/proto/cli.pb.h # Cannot find source file
  ../common/types/locationid.h
  ../common/types/pingtime.h
  ../common/utils/clean_sensitive_info.h
  ../common/utils/extraconfig.h
  ../common/utils/languagesutil.h
  ../common/utils/logger.h
  ../common/utils/mergelog.h
  ../common/utils/multiline_message_logger.h
  ../common/utils/utils.h
  ../common/utils/protobuf_includes.h
  ../common/utils/widgetutils.h
  ../common/utils/executable_signature/executable_signature.h
  ../common/utils/ipvalidation.h
  ../common/version/appversion.h
  ../common/version/windscribe_version.h
  ../common/utils/hardcodedsettings.h
  ../common/utils/simplecrypt.h
  ../common/ipc/command.h
  ../common/ipc/commandfactory.h
  ../common/ipc/connection.h
  ../common/ipc/iconnection.h
  ../common/ipc/iserver.h
  ../common/ipc/protobufcommand.h
  ../common/ipc/server.h
  #../common/ipc/proto/clientcommands.pb.h # Cannot find source file
  #../common/ipc/proto/servercommands.pb.h # Cannot find source file
  # gui/gui.pri: linux
  gui/multipleaccountdetection/multipleaccountdetection_linux.h
  gui/launchonstartup/launchonstartup_linux.h
  gui/utils/authchecker_linux.h
  # gui/gui.pri: all platforms
  gui/backend/backend.h
  gui/backend/connectstatehelper.h
  gui/backend/firewallstatehelper.h
  gui/backend/ibackend.h
  gui/backend/notificationscontroller.h
  gui/backend/locationsmodel/alllocationsmodel.h
  gui/backend/locationsmodel/basiccitiesmodel.h
  gui/backend/locationsmodel/basiclocationsmodel.h
  gui/backend/locationsmodel/configuredcitiesmodel.h
  gui/backend/locationsmodel/favoritecitiesmodel.h
  gui/backend/locationsmodel/favoritelocationsstorage.h
  gui/backend/locationsmodel/locationmodelitem.h
  gui/backend/locationsmodel/locationsmodel.h
  gui/backend/locationsmodel/sortlocationsalgorithms.h
  gui/backend/locationsmodel/staticipscitiesmodel.h
  gui/backend/preferences/accountinfo.h
  gui/backend/preferences/detectlanrange.h
  gui/backend/preferences/guisettingsfromver1.h
  gui/backend/preferences/preferences.h
  gui/backend/preferences/preferenceshelper.h
  gui/backend/types/upgrademodetype.h
  gui/backend/types/dnswhileconnectedinfo.h
  gui/backend/persistentstate.h
  gui/application/windowsnativeeventfilter.h
  gui/application/windscribeapplication.h
  gui/commongraphics/imageitem.h
  gui/commongraphics/scalablegraphicsobject.h
  gui/commonwidgets/combomenuwidget.h
  gui/commonwidgets/combomenuwidgetbutton.h
  gui/commonwidgets/iconwidget.h
  gui/commonwidgets/lightwidget.h
  gui/connectwindow/backgroundimage/backgroundimage.h
  gui/connectwindow/backgroundimage/imagechanger.h
  gui/connectwindow/backgroundimage/simpleimagechanger.h
  gui/connectwindow/connectstateprotocolport/badgepixmap.h
  gui/connectwindow/connectstateprotocolport/connectionbadgedots.h
  gui/connectwindow/connectstateprotocolport/connectstateprotocolport.h
  gui/connectwindow/ipaddressitem/ipaddressitem.h
  gui/connectwindow/ipaddressitem/numberitem.h
  gui/connectwindow/ipaddressitem/numberspixmap.h
  gui/connectwindow/ipaddressitem/octetitem.h
  gui/connectwindow/middleitem.h
  gui/connectwindow/serverratingindicator.h
  gui/dialogs/advancedparametersdialog.h
  gui/dialogs/dialoggetusernamepassword.h
  gui/dialogs/dialogmessagecpuusage.h
  gui/locationswindow/widgetlocations/footertopstrip.h
  gui/locationswindow/widgetlocations/iitemwidget.h
  gui/locationswindow/widgetlocations/itemwidgetcity.h
  gui/locationswindow/widgetlocations/itemwidgetheader.h
  gui/locationswindow/widgetlocations/itemwidgetregion.h
  gui/locationswindow/widgetlocations/scrollbar.h
  gui/locationswindow/widgetlocations/widgetcitieslist.h
  gui/locationswindow/widgetlocations/widgetlocations.h
  gui/locationswindow/widgetlocations/widgetlocationslist.h
  gui/mainwindowstate.h
  gui/overlaysconnectwindow/generalmessagetwobuttonwindowitem.h
  gui/overlaysconnectwindow/igeneralmessagetwobuttonwindow.h
  gui/overlaysconnectwindow/generalmessagewindowitem.h
  gui/overlaysconnectwindow/igeneralmessagewindow.h
  gui/overlaysconnectwindow/iupgradewindow.h
  gui/overlaysconnectwindow/upgradewindowitem.h
  gui/overlaysconnectwindow/iupdatewindow.h
  gui/overlaysconnectwindow/updatewindowitem.h
  gui/overlaysconnectwindow/iupdateappitem.h
  gui/overlaysconnectwindow/updateappitem.h
  gui/graphicresources/fontdescr.h
  gui/graphicresources/iconmanager.h
  gui/graphicresources/independentpixmap.h
  gui/launchonstartup/launchonstartup.h
  gui/loginwindow/iinitwindow.h
  gui/loginwindow/initwindowitem.h
  gui/preferenceswindow/connectionwindow/packetsizeeditboxitem.h
  gui/preferenceswindow/debugwindow/apiresolutionitem.h
  gui/preferenceswindow/generalwindow/backgroundsettingsitem.h
  gui/preferenceswindow/generalwindow/selectimageitem.h
  gui/preferenceswindow/generalwindow/versioninfoitem.h
  gui/preferenceswindow/networkwhitelistwindow/currentnetworkitem.h
  gui/preferenceswindow/networkwhitelistwindow/networklistitem.h
  gui/preferenceswindow/networkwhitelistwindow/networkwhitelistshared.h
  gui/preferenceswindow/splittunnelingwindow/appincludeditem.h
  gui/preferenceswindow/splittunnelingwindow/appsearchitem.h
  gui/preferenceswindow/splittunnelingwindow/iporhostnameitem.h
  gui/preferenceswindow/splittunnelingwindow/newiporhostnameitem.h
  gui/preferenceswindow/splittunnelingwindow/searchlineedititem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappsitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappssearchitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappssearchwindowitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingappswindowitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingiphostnamewindowitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingipsandhostnamesitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingswitchitem.h
  gui/showingdialogstate.h
  gui/tooltips/itooltip.h
  gui/tooltips/serverratingstooltip.h
  gui/tooltips/tooltipbasic.h
  gui/tooltips/tooltipcontroller.h
  gui/tooltips/tooltipdescriptive.h
  gui/tooltips/tooltiptypes.h
  gui/tooltips/tooltiputil.h
  gui/utils/authcheckerfactory.h
  gui/utils/iauthchecker.h
  gui/utils/imagewithshadow.h
  gui/utils/protoenumtostring.h
  gui/commonwidgets/custommenuwidget.h

  #gui/commonwidgets/custommenulineedit.h
  gui/commonwidgets/iscrollablewidget.h
  gui/commonwidgets/customtexteditwidget.h # FIXME

  gui/commonwidgets/scrollareawidget.h
  gui/commonwidgets/verticalscrollbarwidget.h
  gui/log/logviewerwindow.h
  gui/preferenceswindow/debugwindow/advancedparameterswindowitem.h
  gui/utils/textshadow.h
  gui/utils/writeaccessrightschecker.h
  gui/utils/interfaceutils.h
  gui/blockconnect.h
  gui/dpiscaleawarewidget.h
  gui/dpiscalemanager.h
  gui/freetrafficnotificationcontroller.h
  gui/guitest.h
  gui/systemtray/locationstraymenubutton.h
  gui/systemtray/locationstraymenuitemdelegate.h
  gui/systemtray/locationstraymenuwidget.h
  gui/systemtray/locationstraymenunative.h
  gui/systemtray/locationstraymenuscalemanager.h
  gui/loginattemptscontroller.h
  gui/mainwindow.h
  gui/graphicresources/fontmanager.h
  gui/graphicresources/imageresourcessvg.h
  gui/graphicresources/imageresourcesjpg.h
  gui/loginwindow/logginginwindowitem.h
  gui/connectwindow/connectwindowitem.h
  gui/locationswindow/locationswindow.h
  gui/locationswindow/widgetlocations/backgroundpixmapanimation.h
  gui/locationswindow/widgetlocations/cursorupdatehelper.h
  gui/locationswindow/widgetlocations/itemtimems.h
  gui/locationswindow/widgetlocations/iwidgetlocationsinfo.h
  gui/locationswindow/widgetlocations/locationstab.h
  gui/locationswindow/widgetlocations/widgetcities.h
  gui/locationswindow/widgetlocations/widgetlocationssizes.h
  gui/connectwindow/connectbutton.h
  gui/connectwindow/background.h
  gui/connectwindow/locationsbutton.h
  gui/connectwindow/wifiname.h
  gui/connectwindow/firewallbutton.h
  gui/loginwindow/loginwindowitem.h
  gui/loginwindow/welcomewindowitem.h
  gui/loginwindow/credentialswindowitem.h
  gui/loginwindow/ilogginginwindow.h
  gui/loginwindow/loginyesnobutton.h
  gui/loginwindow/usernamepasswordentry.h
  gui/loginwindow/loginbutton.h
  gui/loginwindow/iloginwindow.h
  gui/loginwindow/ilogginginwindow.h
  gui/loginwindow/iconhoverengagebutton.h
  gui/loginwindow/firewallturnoffbutton.h
  gui/emergencyconnectwindow/iemergencyconnectwindow.h
  gui/commongraphics/commongraphics.h

  gui/emergencyconnectwindow/iemergencyconnectwindow.h
  gui/emergencyconnectwindow/emergencyconnectwindowitem.h # FIXME

  gui/emergencyconnectwindow/textlinkbutton.h
  gui/utils/makecustomshadow.h
  gui/connectwindow/iconnectwindow.h
  gui/utils/shadowmanager.h
  gui/connectwindow/iconnectwindow.h
  gui/preferenceswindow/ipreferenceswindow.h
  gui/preferenceswindow/preferenceswindowitem.h
  gui/preferenceswindow/bottomresizeitem.h
  gui/preferenceswindow/generalwindow/generalwindowitem.h
  gui/preferenceswindow/scrollareaitem.h
  gui/preferenceswindow/accountwindow/accountwindowitem.h
  gui/preferenceswindow/connectionwindow/connectionwindowitem.h
  gui/preferenceswindow/debugwindow/debugwindowitem.h
  gui/preferenceswindow/sharewindow/sharewindowitem.h
  gui/preferenceswindow/preferencestab/ipreferencestabcontrol.h
  gui/preferenceswindow/preferencestab/preferencestabcontrolitem.h
  gui/commongraphics/checkboxbutton.h
  gui/preferenceswindow/checkboxitem.h
  gui/preferenceswindow/dividerline.h
  gui/preferenceswindow/escapebutton.h
  gui/preferenceswindow/comboboxitem.h
  gui/newsfeedwindow/inewsfeedwindow.h
  gui/newsfeedwindow/newsfeedwindowitem.h
  gui/preferenceswindow/accountwindow/usernameitem.h
  gui/preferenceswindow/accountwindow/emailitem.h
  gui/preferenceswindow/accountwindow/planitem.h
  gui/preferenceswindow/accountwindow/expiredateitem.h
  gui/preferenceswindow/connectionwindow/subpageitem.h
  gui/preferenceswindow/basepage.h
  gui/preferenceswindow/baseitem.h
  gui/preferenceswindow/sharewindow/securehotspotitem.h
  gui/preferenceswindow/sharewindow/proxygatewayitem.h
  gui/preferenceswindow/editboxitem.h
  gui/preferenceswindow/sharewindow/proxyipaddressitem.h
  gui/preferenceswindow/debugwindow/viewlogitem.h
  gui/preferenceswindow/debugwindow/advancedparametersitem.h
  gui/preferenceswindow/connectionwindow/firewallmodeitem.h
  gui/preferenceswindow/connectionwindow/automanualswitchitem.h
  gui/preferenceswindow/connectionwindow/connectionmodeitem.h
  gui/preferenceswindow/connectionwindow/packetsizeitem.h
  gui/preferenceswindow/connectionwindow/macspoofingitem.h
  gui/preferenceswindow/connectionwindow/macaddressitem.h
  gui/preferenceswindow/connectionwindow/autorotatemacitem.h
  gui/commongraphics/verticalscrollbar.h
  gui/preferenceswindow/networkwhitelistwindow/networkwhitelistwindowitem.h
  gui/preferenceswindow/splittunnelingwindow/splittunnelingwindowitem.h
  gui/preferenceswindow/proxysettingswindow/proxysettingswindowitem.h
  gui/commongraphics/clickablegraphicsobject.h
  gui/commongraphics/textbutton.h
  gui/commongraphics/bubblebuttonbright.h

  gui/externalconfig/iexternalconfigwindow.h
  gui/externalconfig/externalconfigwindowitem.h # FIXME

  gui/twofactorauth/itwofactorauthwindow.h
  gui/twofactorauth/twofactorauthwindowitem.h
  gui/twofactorauth/twofactorauthokbutton.h
  gui/connectwindow/iconnectwindow.h
  gui/bottominfowidget/sharingfeatures/sharingfeatureswindowitem.h
  gui/bottominfowidget/sharingfeatures/sharingfeature.h
  gui/bottominfowidget/upgradewidget/upgradewidgetitem.h
  gui/bottominfowidget/ibottominfoitem.h
  gui/bottominfowidget/bottominfoitem.h
  gui/commongraphics/bubblebuttondark.h
  gui/loginwindow/blockableqlineedit.h
  gui/commongraphics/texticonbutton.h
  gui/commongraphics/verticaldividerline.h
  gui/commonwidgets/custommenulineedit.h
  gui/commonwidgets/iconbuttonwidget.h
  gui/commonwidgets/textbuttonwidget.h
  gui/preferenceswindow/proxysettingswindow/proxysettingsitem.h
  gui/newsfeedwindow/scrollablemessage.h
  gui/commongraphics/iconbutton.h
  gui/preferenceswindow/textitem.h
  gui/connectwindow/logonotificationsbutton.h
  gui/preferenceswindow/connectionwindow/dnswhileconnecteditem.h
  gui/languagecontroller.h
  gui/locationswindow/widgetlocations/staticipdeviceinfo.h
  gui/locationswindow/widgetlocations/configfooterinfo.h
  gui/mainwindowcontroller.h
  gui/multipleaccountdetection/imultipleaccountdetection.h
  gui/multipleaccountdetection/multipleaccountdetectionfactory.h
  gui/preferenceswindow/openurlitem.h
  gui/application/singleappinstance.h
  gui/application/singleappinstance_p.h
  gui/localipcserver/localipcserver.h
  # engine/engine.pri
  engine/utils/dnsscripts_linux.h
  engine/engine/ping/pinghost_icmp_mac.h
  engine/engine/helper/helper_posix.h
  engine/engine/helper/helper_linux.h
  engine/engine/firewall/firewallcontroller_linux.h
  engine/engine/connectionmanager/ikev2connection_linux.h
  engine/engine/networkdetectionmanager/networkdetectionmanager_linux.h
  engine/engine/macaddresscontroller/macaddresscontroller_linux.h
  engine/engine/connectionmanager/wireguardconnection_posix.h
  engine/engine/locationsmodel/enginelocationsmodel.h
  engine/engine/apiinfo/checkupdate.h
  engine/engine/locationsmodel/apilocationsmodel.h
  engine/engine/locationsmodel/customconfiglocationsmodel.h
  engine/engine/locationsmodel/locationitem.h
  engine/engine/locationsmodel/pingipscontroller.h
  engine/engine/locationsmodel/pingstorage.h
  engine/engine/locationsmodel/bestlocation.h
  engine/engine/locationsmodel/locationnode.h
  engine/engine/locationsmodel/baselocationinfo.h
  engine/engine/locationsmodel/mutablelocationinfo.h
  engine/engine/locationsmodel/customconfiglocationinfo.h
  engine/engine/locationsmodel/pinglog.h
  engine/engine/locationsmodel/failedpinglogcontroller.h
  engine/engine/locationsmodel/nodeselectionalgorithm.h
  engine/engine/apiinfo/apiinfo.h
  engine/engine/apiinfo/sessionstatus.h
  engine/engine/apiinfo/location.h
  engine/engine/apiinfo/group.h
  engine/engine/apiinfo/node.h
  engine/engine/apiinfo/notification.h
  engine/engine/apiinfo/portmap.h
  engine/engine/apiinfo/staticips.h
  engine/engine/apiinfo/servercredentials.h
  engine/engine/connectionmanager/adaptergatewayinfo.h
  engine/engine/connectionmanager/makeovpnfile.h
  engine/engine/autoupdater/downloadhelper.h
  engine/engine/macaddresscontroller/imacaddresscontroller.h
  engine/engine/networkdetectionmanager/inetworkdetectionmanager.h
  engine/engine/ping/keepalivemanager.h
  engine/engine/packetsizecontroller.h
  engine/engine/enginesettings.h
  engine/engine/connectionmanager/stunnelmanager.h
  engine/engine/tempscripts_mac.h
  engine/engine/logincontroller/logincontroller.h
  engine/engine/logincontroller/getallconfigscontroller.h
  engine/engine/proxy/proxysettings.h
  engine/engine/types/connectionsettings.h
  engine/engine/getmyipcontroller.h
  engine/engine/firewall/uniqueiplist.h
  engine/engine/helper/ihelper.h
  engine/engine/firewall/firewallcontroller.h
  engine/engine/firewall/firewallexceptions.h
  engine/engine/proxy/proxyservercontroller.h
  engine/engine/connectionmanager/testvpntunnel.h
  engine/engine/types/dnsresolutionsettings.h
  engine/engine/connectionmanager/iconnection.h
  engine/engine/connectionmanager/openvpnconnection.h
  engine/engine/connectionmanager/isleepevents.h
  engine/utils/boost_includes.h
  engine/engine/types/types.h
  engine/engine/connectionmanager/connsettingspolicy/baseconnsettingspolicy.h
  engine/engine/connectionmanager/connsettingspolicy/autoconnsettingspolicy.h
  engine/engine/connectionmanager/connsettingspolicy/manualconnsettingspolicy.h
  engine/engine/connectionmanager/connsettingspolicy/customconfigconnsettingspolicy.h
  engine/engine/connectionmanager/connectionmanager.h
  engine/engine/logincontroller/getapiaccessips.h
  engine/engine/helper/initializehelper.h
  engine/engine/refetchservercredentialshelper.h
  engine/engine/connectionmanager/availableport.h
  engine/engine/vpnshare/httpproxyserver/httpproxyserver.h
  engine/engine/vpnshare/httpproxyserver/httpproxyconnectionmanager.h
  engine/engine/vpnshare/httpproxyserver/httpproxyconnection.h
  engine/engine/vpnshare/httpproxyserver/httpproxyrequestparser.h
  engine/engine/vpnshare/httpproxyserver/httpproxyrequest.h
  engine/engine/vpnshare/httpproxyserver/httpproxyheader.h
  engine/engine/vpnshare/httpproxyserver/httpproxywebanswer.h
  engine/engine/vpnshare/httpproxyserver/httpproxywebanswerparser.h
  engine/engine/vpnshare/socksproxyserver/socksproxyserver.h
  engine/engine/vpnshare/socksproxyserver/socksproxyconnectionmanager.h
  engine/engine/vpnshare/socksproxyserver/socksproxyconnection.h
  engine/engine/vpnshare/socksproxyserver/socksstructs.h
  engine/engine/vpnshare/socksproxyserver/socksproxyreadexactly.h
  engine/engine/vpnshare/socksproxyserver/socksproxyidentreqparser.h
  engine/engine/vpnshare/socketutils/socketwriteall.h
  engine/engine/vpnshare/socksproxyserver/socksproxycommandparser.h
  engine/engine/vpnshare/vpnsharecontroller.h
  engine/engine/vpnshare/connecteduserscounter.h
  engine/engine/vpnshare/httpproxyserver/httpproxyreply.h
  engine/engine/connectstatecontroller/iconnectstatecontroller.h
  engine/engine/connectstatecontroller/connectstatecontroller.h
  engine/engine/openvpnversioncontroller.h
  engine/engine/serverapi/curlnetworkmanager.h
  engine/engine/serverapi/curlrequest.h
  engine/engine/serverapi/dnscache.h
  engine/engine/serverapi/serverapi.h
  engine/engine/engine.h
  engine/engine/crossplatformobjectfactory.h
  engine/engine/types/loginsettings.h
  engine/engine/emergencycontroller/emergencycontroller.h
  engine/engine/dnsresolver/areslibraryinit.h
  engine/engine/dnsresolver/dnsutils.h
  engine/engine/dnsresolver/dnsrequest.h
  engine/engine/dnsresolver/dnsserversconfiguration.h
  engine/engine/dnsresolver/dnsresolver.h
  engine/engine/types/protocoltype.h
  engine/engine/tests/sessionandlocations_test.h
  engine/engine/sessionstatustimer.h
  engine/engine/connectionmanager/wstunnelmanager.h
  engine/engine/customconfigs/icustomconfig.h
  engine/engine/customconfigs/customconfigtype.h
  engine/engine/customconfigs/ovpncustomconfig.h
  engine/engine/customconfigs/wireguardcustomconfig.h
  engine/engine/customconfigs/customconfigs.h
  engine/engine/connectionmanager/makeovpnfilefromcustom.h
  engine/engine/customconfigs/parseovpnconfigline.h
  engine/engine/customconfigs/customovpnauthcredentialsstorage.h
  engine/engine/ping/icmp_header.h
  engine/engine/ping/ipv4_header.h
  engine/engine/ping/pinghost_tcp.h
  engine/engine/ping/pinghost.h
  engine/engine/customconfigs/customconfigsdirwatcher.h
  engine/engine/wireguardconfig/wireguardconfig.h
  engine/engine/wireguardconfig/getwireguardconfig.h
  engine/engine/wireguardconfig/getwireguardconfiginloop.h
  engine/engine/getdeviceid.h
  engine/engineserver.h
  engine/clientconnectiondescr.h
  engine/engine/connectionmanager/finishactiveconnections.h
  engine/engine/networkaccessmanager/certmanager.h
  engine/engine/networkaccessmanager/curlinitcontroller.h
  engine/engine/networkaccessmanager/curlnetworkmanager2.h
  engine/engine/networkaccessmanager/curlreply.h
  engine/engine/networkaccessmanager/networkrequest.h
  engine/engine/networkaccessmanager/dnscache2.h
  engine/engine/networkaccessmanager/networkaccessmanager.h
)

# TODO
# common
#
# gui
#RESOURCES +=
#    svg.qrc
#    jpg.qrc
#    windscribe.qrc
# engine
#RESOURCES +=
#   engine.qrc
# gui: TRANSLATIONS
# gui: DISTFILES
# gui: FORMS

add_executable(${target_name}
  #mainwindow.ui
  #mainwindow.cpp
  ${sources}
  #${headers}
)

add_dependencies(${target_name} ipc-proto)

target_compile_options(${target_name} PUBLIC
  -Wall
  -Wno-deprecated-copy
)

set_target_properties(${target_name} PROPERTIES
  WIN32_EXECUTABLE ON # Prevent the creation of a console window on Windows.
  MACOSX_BUNDLE ON # Create an application bundle on macOS.
  # https://cmake.org/cmake/help/v3.2/prop_tgt/AUTOUIC.html
  # Should the target be processed with autouic (for Qt projects).
  # qt6: https://gitlab.kitware.com/cmake/cmake/-/merge_requests/2679
  AUTOUIC ON
)

#target_compile_definitions(${target_name} PUBLIC BOOST_BIND_GLOBAL_PLACEHOLDERS)
target_compile_definitions(${target_name} PUBLIC QT_MESSAGELOGCONTEXT)
target_compile_definitions(${target_name} PUBLIC QT_DEPRECATED_WARNINGS)
# disable deprecated APIs
target_compile_definitions(${target_name} PUBLIC QT_DISABLE_DEPRECATED_BEFORE=0x060000)
if(${use_signature_check})
  message(STATUS "use_signature_check=ON")
  target_compile_definitions(${target_name} PUBLIC USE_SIGNATURE_CHECK)
else()
  message(STATUS "use_signature_check=OFF")
endif()

target_include_directories(${target_name} PUBLIC
  ${CMAKE_CURRENT_SOURCE_DIR}
  ../common 
)

target_link_libraries(${target_name}
  PRIVATE Boost::serialization
  PRIVATE Boost::filesystem
  PRIVATE OpenSSL::SSL
  PRIVATE protobuf::libprotobuf
  PRIVATE CURL::libcurl
  PRIVATE c-ares::cares
  PRIVATE Qt6::Core
  PRIVATE Qt6::Widgets
  PRIVATE Qt6::Svg
  # fix: client/engine/engine/proxy/proxysettings.h:6:10: fatal error: QNetworkProxy: No such file
  # fix: common/utils/linuxutils.cpp:12:10: fatal error: QHostAddress: No such file
  PRIVATE Qt6::Network
  PRIVATE Qt6::Core5Compat
)

install(TARGETS ${target_name} DESTINATION ${CMAKE_INSTALL_BIN})

#add_subdirectory(libs/module1)
#add_subdirectory(libs/module2)
